import{r as l,j as s,F as m}from"./react-MSu_GSUq.js";import"./froala-BSJra1Lq.js";function C({html:c,setHtml:u,postId:a}){l.useEffect(()=>{if(typeof window>"u"||!window.FroalaEditor)return;const n=window.FroalaEditor;if(!(!n.DefineIcon||!n.RegisterCommand))try{n.DefineIcon.__inline_code_defined||(n.DefineIcon("inlineCode",{NAME:"code"}),n.RegisterCommand("inlineCode",{title:"Inline Code",focus:!0,undo:!0,refreshAfterCallback:!0,callback:function(){const o=this,t=window.getSelection();if(!t||!t.rangeCount)return;const e=t.getRangeAt(0);if(!o.el.contains(e.commonAncestorContainer))return;const d=e.toString();if(!d){const i=document.createElement("code");i.textContent="",e.insertNode(i),e.setStart(i,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),o.events.trigger("contentChanged");return}const r=document.createElement("code");r.textContent=d,e.deleteContents(),e.insertNode(r),e.setStartAfter(r),e.collapse(!0),t.removeAllRanges(),t.addRange(e),o.events.trigger("contentChanged")}}),n.DefineIcon.__inline_code_defined=!0)}catch(o){console.warn("Inline code registration failed:",o)}},[]);const g=l.useMemo(()=>({theme:"dark",heightMin:250,toolbarButtons:[["paragraphFormat","bold","italic","underline","strikeThrough","fontSize","inlineCode","subscript","superscript","insertHR","|","formatOL","formatUL","insertLink","insertImage","insertCode","|","align","undo","redo","|","html","fullscreen","wirisEditor","wirisChemistry"]],paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4"},codeMirrorOptions:{theme:"material-darker",lineNumbers:!0,mode:"htmlmixed"},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0},placeholderText:"Start writing your blog post ... ",charCounterCount:!0,imageUploadURL:`http://localhost:8000/api/assets/froala-image/${a}`,imageUploadMethod:"POST",events:{initialized:function(){console.log("Froala editor initialized")},"image.beforeUpload":function(){return!0},"image.error":function(n,o,t,e){console.error("Froala image error:",t,e)},"image.uploaded":function(n,o,t){console.log("Image uploaded, server response:",t)}}}),[a]);return s.jsx("div",{children:s.jsx(m,{tag:"textarea",config:g,model:c,onModelChange:n=>u(n)})})}export{C as default};
